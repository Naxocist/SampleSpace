{"version":3,"sources":["components/Navbar.js","components/Poster.js","components/Banner.js","components/Input.js","App.js","index.js"],"names":["Navbar","className","href","Poster","id","name","img","deletePoster","onClick","target","rel","src","alt","Banner","Input","addPoster","useState","input","setInput","type","value","onChange","event","onKeyDown","title","key","cheerio","require","axios","App","posters","setPosters","getPosters","then","res","data","reverse","delete","filter","poster","html","load","text","includes","article","first","a","find","attr","replace","url","method","map","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.68673630.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nfunction Navbar() {\r\n    return (\r\n        <header>\r\n            <div className=\"head-wrapper header-height\">\r\n                <div className=\"title-wrapper center header-height\">\r\n                    <h2>Naxocist</h2>\r\n                </div>\r\n                <a href=\"./library.html\" className=\"nav-link center header-height\">Library</a>\r\n                <a href=\"./favorite.html\" className=\"nav-link center header-height\">Favorite</a>\r\n                <a href=\"./index.html\" className=\"nav-link center header-height\">Home</a>\r\n            </div>\r\n\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Navbar","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction Poster({ id, name, href, img, deletePoster }) {\r\n  return (\r\n    <div className=\"poster\">\r\n      <div className=\"content-wrapper\">\r\n        <div\r\n          className=\"cross-box\"\r\n          onClick={() => {\r\n            deletePoster(name);\r\n          }}\r\n        >\r\n          <div className=\"spoiler\">\r\n            <div className=\"cross\">x</div>\r\n          </div>\r\n        </div>\r\n\r\n        <a href={href} target=\"_blank\" rel=\"noreferrer\">\r\n          <img src={img} alt=\"anime-src\" />\r\n          <div className=\"anime-info\">\r\n            <h5>{name}</h5>\r\n          </div>\r\n        </a>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nPoster.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  href: PropTypes.string.isRequired,\r\n  img: PropTypes.string.isRequired,\r\n};\r\nexport default Poster;\r\n","import React from \"react\";\r\n\r\nfunction Banner({ img }) {\r\n    return (\r\n        <div className=\"banner\">\r\n            <img src={img} alt=\"banner-src\" />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Banner","import React, { useState } from \"react\";\r\n\r\nfunction Input({ addPoster }) {\r\n    const [input, setInput] = useState('');\r\n\r\n    function onChange(event) {\r\n        setInput(event.target.value);\r\n    }\r\n\r\n    function onKeyDown(event) {\r\n        const title = event.target.value;\r\n        if (event.key === \"Enter\" && title) {\r\n            addPoster(title);\r\n            setInput('');\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"Input\">\r\n            <input className=\"Input-field\" type=\"text\" value={input} onChange={onChange} onKeyDown={onKeyDown} />\r\n        </div>\r\n\r\n    );\r\n\r\n}\r\n\r\nexport default Input","import React, { useState } from \"react\";\nimport Navbar from \"./components/Navbar\";\nimport Poster from \"./components/Poster\";\nimport Banner from \"./components/Banner\";\nimport Input from \"./components/Input\";\nimport \"./App.css\";\n\nconst cheerio = require(\"cheerio\");\nconst axios = require(\"axios\");\n\nfunction App() {\n  const [posters, setPosters] = useState([]);\n\n  const getPosters = () => {\n    axios(\"https://mysql-animes.herokuapp.com/animes\").then((res) => {\n      setPosters(res.data.reverse());\n    });\n  };\n\n  const addPoster = (title) => {\n    const search = \"/search/all?cat=all&q=\" + title;\n    axios(search).then((res) => {\n      const html = cheerio.load(res.data);\n      if (!html.text().includes(\"Your keyword is too short.\")) {\n        const article = html(\"article\").first();\n        const a = article.find(\"div\").first().find(\"a\");\n        var name = article\n          .find(\"div\")\n          .first()\n          .find(\"div.information\")\n          .find(\"a\")\n          .first()\n          .text();\n        const href = a.attr(\"href\");\n        const img = a.find(\"img\").attr(\"data-src\").replace(\"/r/100x140\", \"\");\n        name = name.includes(\"/\") ? name.replace(\"/\", \" \") : name;\n        axios({\n          url: \"https://mysql-animes.herokuapp.com/add\",\n          data: { name, img, href },\n          method: \"POST\",\n        }).then(() => {\n          getPosters();\n          // setPosters([{ name, img, href }, ...posters]);\n        });\n      }\n    });\n  };\n\n  const deletePoster = (name) => {\n    axios\n      .delete(`https://mysql-animes.herokuapp.com/remove/${name}`)\n      .then(() => {\n        setPosters(posters.filter((poster) => poster.name !== name));\n      });\n  };\n\n  return (\n    <div className=\"App\">\n      <Navbar />\n      <div className=\"panel\">\n        <Banner img=\"https://c.wallhere.com/photos/6c/bb/Little_Witch_Academia-284456.jpg!d\" />\n\n        <Input addPoster={addPoster} />\n\n        <div className=\"show-animes\">\n          <button type=\"button\" onClick={getPosters}>\n            Display Animes\n          </button>\n        </div>\n        <div className=\"anime-wrapper\">\n          {posters.map((poster) => (\n            <Poster\n              name={poster.name}\n              href={poster.href}\n              img={poster.img}\n              key={poster.name}\n              deletePoster={deletePoster}\n            />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}